---
stages:
  - quality
  - test

eslint:
  stage: quality
  image: node:17-alpine
  script:
    - npm install
    - npm run test

tests:
  stage: test
  image: node:17-alpine
  script:
    - npm install
    - npm run test

documentation:
  stage: test
  image: nikolaik/python-nodejs:python3.8-nodejs16-alpine
  script:
    - npm install
    - apk add git
    - apk add make
    - pip install -r docs/requirements.txt
    - pip install docs/
    - cd docs && make html